(()=>{"use strict";const e=function(e,t){setTimeout((()=>{const e=document.querySelector(".slick-list"),t=e.querySelector(".slick-current"),a=getComputedStyle(t).height;e.style.height=a}),0)},t=function(){$(".radio").parent().click((function(){const e=$(this).children(".radio");e.is(":disabled")||e.prop("checked",!0)}))},a=function(e){e.querySelectorAll(".checkbox").forEach((e=>{const t=e.parentNode;e.disabled||t.addEventListener("click",(function(){const e=t.querySelector(".checkbox");e.checked=!e.checked}))}))};$(document).ready((function(){const n=$("body");function c(e){document.querySelectorAll(".__select").forEach((e=>function(e){const t=e.querySelector(".__select__title"),a=e.querySelectorAll(".__select__label");t.addEventListener("click",(function(){"active"===e.getAttribute("data-state")?e.setAttribute("data-state",""):e.setAttribute("data-state","active")}));for(let n=0;n<a.length;n++)a[n].addEventListener("click",(function(a){t.textContent=a.target.textContent,t.value=a.target.textContent,e.setAttribute("data-state","");const n=this.parentNode.parentNode.parentNode.parentNode.parentNode;n.querySelector(".address__concated")&&r(n)}));document.querySelector("body").addEventListener("click",(t=>{const a=t.target.classList;"__select__title"!==a[0]&&"__select__content"!==a[0]&&"__select__input"!==a[0]&&e.setAttribute("data-state","")}))}(e)))}function r(e){const t=e.querySelector(".address__concated"),a=e.querySelector(".address__locality"),n=e.querySelector(".address__district"),c=e.querySelector(".address__microdistrict"),r=e.querySelector(".address__street"),o=e.querySelector(".address__housing"),l=e.querySelector(".address__house");setTimeout((()=>{let e=(a.value?"г. "+a.value:"")+(n.value?", "+n.value+" район":"")+(c.value?", микрорайон "+c.value:"")+(r.value?", ул. "+r.value:"")+(o.value?", корпус "+o.value:"")+(l.value?", дом "+l.value:"")+".";","===e[0]&&(e=e.slice(1)),"."===e[0]&&(e=""),t.value=e,"connectobjkind_01"==document.querySelector('[name="connectobjkind"]:checked').id&&(document.querySelector('[name="statementtc_connectobjname"]').value=`Частный дом по адресу: ${e}`)}),100)}function o(e){e.querySelector(".address__concated");const t=e.querySelector(".address__locality"),a=e.querySelector(".address__district"),n=e.querySelector(".address__microdistrict"),c=e.querySelector(".address__street"),o=e.querySelector(".address__housing"),l=e.querySelector(".address__house");t&&t.addEventListener("change",(()=>r(e))),a&&a.addEventListener("change",(()=>r(e))),n&&n.addEventListener("change",(()=>r(e))),c&&c.addEventListener("change",(()=>r(e))),o&&o.addEventListener("change",(()=>r(e))),l&&l.addEventListener("change",(()=>r(e)))}document.querySelector(".requests_form.simple"),document.querySelector(".slider")&&$(".slider").slick({nextArrow:'<button type="button" class="slick-arrow slick-next btn dark_btn">Далее</button>',prevArrow:'<button type="button" class="slick-arrow slick-prev btn">Назад</button>',dots:!0,infinite:!1,draggable:!1,adaptiveHeight:!0,initialSlide:0}),document.querySelector(".radio")&&t(),document.querySelector(".checkbox")&&a(document),document.querySelector(".__select")&&c(document);const l=document.querySelectorAll(".address__concated");function d(e,t){const a=t.parentNode,n=a.querySelector(".__select__content"),c=(e,t)=>{let a=[];return e=e.toLowerCase(),t.forEach((t=>{t.name.toLowerCase().includes(e)&&a.push(t)})),a},r=(e,t,a)=>{const c=`\n                        <input value="${e.code}" type="radio" class="__select__input" id="${a}_${e.id}" tabindex="0" name=${t}>\n                        <label class="__select__label" for="${a}_${e.id}">${e.name}</label>\n                       `;n.insertAdjacentHTML("beforeend",c)};function o(e){const t=a.querySelector(".__select__content");!function(e){e.innerHTML='\n                               <input type="radio" class="__select__input" id="" tabindex="0">\n                               <label class="__select__label" for="">Выберите значение</label>\n                              '}(t),a.setAttribute("data-state",""),""!==e&&(e.forEach((e=>r(e))),a.setAttribute("data-state","active")),function(e){const t=e.querySelectorAll("label");e.querySelectorAll("input"),t.forEach((t=>t.addEventListener("click",(()=>(t=>{e.parentNode.querySelector("input").value=t.innerText})(t)))))}(t)}t.addEventListener("keyup",(t=>{var a;a=t.target.value,"locality"===e&&(e=>{fetch(`./getTownsJson?townName=${e}`).then((e=>e.json())).then((t=>o(c(e,JSON.parse(t))))).catch((e=>console.log(e)))})(a),"street"===e&&(e=>{let t=document.querySelector('input[id^="locality_"]:checked');t?fetch(`./getStreetsJson?streetName=${e}&townCode=${t.value}`).then((e=>e.json())).then((t=>o(c(e,JSON.parse(t))))).catch((e=>console.log(e))):o("")})(a),"district"===e&&(e=>{let t=document.querySelector('input[id^="locality_"]:checked');t?fetch(`./getDistrictsJson?districtName=${e}&townCode=${t.value}`).then((e=>e.json())).then((t=>o(c(e,JSON.parse(t))))).catch((e=>console.log(e))):o("")})(a),"microdistrict"===e&&(e=>{let t=document.querySelector('input[id^="locality_"]:checked');t?fetch(`./getSubdistrictsJson?subdistrictName=${e}&townCode=${t.value}`).then((e=>e.json())).then((t=>o(c(e,JSON.parse(t))))).catch((e=>console.log(e))):o("")})(a)}))}l&&l.forEach((e=>o(e.parentNode.parentNode.parentNode))),function(e){const t=e.querySelectorAll(".address__locality"),a=e.querySelectorAll(".address__street"),n=e.querySelectorAll(".address__district"),c=e.querySelectorAll(".address__microdistrict");t&&t.forEach((e=>d("locality",e))),a&&a.forEach((e=>d("street",e))),n&&n.forEach((e=>d("district",e))),c&&c.forEach((e=>d("microdistrict",e)))}(document),document.querySelector(".instructions__btn")&&function(){const e=$(".instructions__btn"),t=$(".modal_instructions"),a=$(".modal_instructions__content"),c=$(".modal_instructions .close");e.click((function(e){e.preventDefault(),n.css("overflow","hidden"),a.css("overflow-y","auto"),a.css("overflow-x","hidden"),t.removeClass("hidden")})),c.click((function(e){e.preventDefault(),n.css("overflow","auto"),t.addClass("hidden")}))}(),document.querySelector(".queue_launch_yes")&&function(){let r=-1;!function(){const e=document.querySelectorAll(".queue_launch_yes .field__table .table__body .table__row");e.length&&e.forEach((e=>r+=1))}(),document.querySelector(".queue_launch__trigger")&&function(e){const t=e.querySelector(".queue_launch__trigger"),a=t.querySelector('input[type="radio"][value="yes"]'),n=t.querySelector('input[type="radio"][value="no"]'),c=a.disabled||n.disabled,r=e.querySelector(".queue_launch_yes"),o=e.querySelector(".queue_launch_no");c||(a.parentNode.addEventListener("click",(()=>{r.classList.remove("hidden"),o.classList.add("hidden")})),n.parentNode.addEventListener("click",(()=>{r.classList.add("hidden"),o.classList.remove("hidden")})))}(document),$(".queue_slider").slick({dots:!0,arrows:!1});const l=$(".queue_launch_yes tbody");$(".queue_btn").click((function(n){n.preventDefault(),r++;const d=document.querySelector('[name="statementtc_queuecount"]');d&&(d.value=r);const u=`\n                      <tr class="table__row">\n                        <td class="table__cell">Очередь №${r}</td>\n                        <td class="table__cell">\n                          <input type="text" class="field__input datepicker_input" name=${"TechCondObj_QueueName_"+r} placeholder="Введите данные" />\n                        </td>\n                      </tr>\n                     `;l.append(u),function(){const e=document.querySelector(".queue_block").cloneNode(!0);var n;(n=e).querySelector(".form__subheader").innerText=`Очередь №${r}`,n.querySelectorAll("input").forEach((e=>{if(!e.name)return;let t=e.name;t+=`_${r}`,e.name=t})),function(e){document.querySelector(".step_5 .queue_slider").append(e)}(e),c(e.querySelector(".__select")),t(),a(e),p(e),v(e),q(e),o(e)}(),e();const s=l.children().last().find(".datepicker_input");s.datepicker($.datepicker.regional.ru),s.mask("99.99.9999",{autoclear:!1})})),$(".queue_btn_remove").click((function(t){if(t.preventDefault(),r<1)return;r--;const a=document.querySelector('[name="statementtc_queuecount"]');a&&(a.value=r),l.children().last().remove(),$(".step_5 .queue_slider").children().last().remove(),e()})),function(){const t=document.querySelector(".step_2"),a=t.querySelector(".queue_launch_yes"),c=t.querySelector(".queue_launch_no");let o,l;t.querySelectorAll('input[name="queue_launch"]').forEach((e=>"yes"===e.value?o=e:"no"===e.value?l=e:void 0)),o.disabled||l.disabled||(l.parentNode.addEventListener("click",(()=>{e(),r<1||(document.body.insertAdjacentHTML("beforeend",'\n                            <section class="modal modal_popup_confirm">\n                              <div class="modal__content modal_popup_confirm__content">\n                                <div class="close"></div>\n                                <div class="modal__text">\n                                  Будут удалены все данные по очередям. Удалить?\n                                </div>\n                                <div class="form__field">\n                                  <button class="form__submit btn btn_agree">Да</button>\n                                  <button class="form__submit btn dark_btn btn_abort">Нет</button>\n                                </div>\n                              </div>\n                            </section>\n                           '),function(){const e=document.querySelector(".modal_popup_confirm"),t=e.querySelector(".close"),l=e.querySelector(".btn_abort"),d=e.querySelector(".btn_agree"),u=()=>{o.checked=!0,a.removeAttribute("style"),c.removeAttribute("style"),a.classList.remove("hidden"),c.classList.add("hidden"),e.remove()};t.addEventListener("click",u),l.addEventListener("click",u),d.addEventListener("click",(()=>{a.removeAttribute("style"),c.removeAttribute("style"),a.classList.add("hidden"),c.classList.remove("hidden"),e.remove(),n.addClass(""),function(){const e=document.querySelector(".queue_launch_yes table"),t=document.querySelector(".queue_slider");!function(e){e.querySelector("tbody").querySelectorAll(".table__row").forEach(((e,t)=>{0!==t&&e.remove()})),r=0}(e),function(e){e.querySelectorAll(".queue_block").forEach(((e,t)=>{0!==t&&e.remove()}))}(t)}()}))}())})),o.parentNode.addEventListener("click",(()=>e())))}()}(),document.querySelector(".queue_launch__trigger")&&(e=>{const t=e.querySelector('input[name="connectobjkind"][value="01"]'),a=e.querySelector('input[name="connectobjkind"][value="02"]'),n=a.checked,c=e.querySelector('input[name="connectobjkind"][value="03"]'),r=e.querySelector(".queue_launch__trigger"),o=r.querySelector('input[type="radio"][value="yes"]'),l=r.querySelector('input[type="radio"][value="no"]'),d=(e.querySelector(".queue_launch"),e.querySelector(".queue_launch_yes")),u=e.querySelector(".queue_launch_yes"),s=()=>{o.disabled=!0,l.disabled=!0,d.querySelector("input").disabled=!0,d.querySelector("button").disabled=!0,l.checked=!0,r.classList.add("hidden"),d.classList.add("hidden"),u.classList.remove("hidden")},m=()=>{o.disabled=!1,l.disabled=!1,d.querySelector("input").disabled=!1,d.querySelector("button").disabled=!1,r.classList.remove("hidden"),d.classList.remove("hidden"),u.classList.add("hidden")};n&&m(),n||s();const i=e=>(console.log(e.target),"02"===e.target.querySelector("input").value?m():s());t.parentNode.addEventListener("click",(e=>i(e))),a.parentNode.addEventListener("click",(e=>i(e))),c.parentNode.addEventListener("click",(e=>i(e)))})(document);const u=$(".other_water_sources tbody");let s=1;const m=document.querySelector('[name="other_water_sources_count"]');$(".add_source_btn").click((function(t){const a=`\n                    <tr class="table__row">\n                      <td class="table__cell">\n                        <input type="text" class="field__input" name=${"other_water_sources_name_"+s} placeholder="Введите данные" />\n                      </td>\n                      <td class="table__cell">\n                        <input type="text" class="field__input" name=${"other_water_sources_vol_"+s} placeholder="Введите данные" />\n                      </td>\n                    </tr>\n                   `;t.preventDefault(),u.append(a),s++,m&&(m.value=s),e()})),$(".add_source_btn_remove").click((function(t){t.preventDefault(),s>2&&(u.children().last().remove(),s--,e())}));const i=$(".land_coverage_characteristics tbody");let _=2;function p(e){e.querySelector(".datepicker_input")&&$(".datepicker_input").mask("99.99.9999",{autoclear:!1}),e.querySelector(".snils_input")&&$(".snils_input").mask("999-999-999 99",{autoclear:!1}),e.querySelector(".passport_input")&&$(".passport_input").mask("99 99 / 999999",{autoclear:!1}),e.querySelector(".passport_serial_input")&&$(".passport_serial_input").mask("99 99",{autoclear:!1}),e.querySelector(".passport_number_input")&&$(".passport_number_input").mask("999999",{autoclear:!1}),e.querySelector(".phone_input")&&$(".phone_input").mask("(999) 999-9999",{autoclear:!1}),e.querySelector(".tin_ul_input")&&$(".tin_ul_input").mask("9999999999",{autoclear:!1}),e.querySelector(".tin_fl_input")&&$(".tin_fl_input").mask("999999999999",{autoclear:!1}),e.querySelector(".tin_e_input")&&$(".tin_e_input").mask("999999999999",{autoclear:!1}),e.querySelector(".integer_input")&&$(".integer_input").on("input",(function(){$(this).val($(this).val().replace(/[^0-9]/g,""))})),e.querySelector(".float_input")&&$(".float_input").keypress((function(e){(46!=e.which||-1!=$(this).val().indexOf("."))&&(e.which<48||e.which>57)&&e.preventDefault()}))}function v(t){const a=t.querySelector(".connection_to_cold_water"),n=a.parentNode;let c=a.checked;const r=a.disabled,o=t.querySelector(".cold_water_supply_toggle");c&&o.classList.remove("hidden"),c||o.classList.add("hidden"),r||n.addEventListener("click",(()=>{c=!c,c?(o.classList.remove("hidden"),e()):(o.classList.add("hidden"),e())}))}$(".add_coverage_btn").click((function(t){t.preventDefault();const a=`\n                    <tr class="table__row">\n                      <td class="table__cell">\n                        <input type="text" class="field__input" placeholder="Введите данные" />\n                      </td>\n                      <td class="table__cell">\n                        <input type="text" class="field__input" name=${"other_water_sources_vol_"+s} placeholder="Введите данные" />\n                      </td>\n                    </tr>\n                   `;i.append(a),_++,e()})),$(".add_coverage_btn_remove").click((function(t){t.preventDefault(),_<=1||(i.children().last().remove(),_--,e())})),document.querySelector(".datepicker_input")&&$(".datepicker_input").datepicker($.datepicker.regional.ru),p(document),document.querySelector(".representative")&&function(){const e=document.querySelector(".representative"),t=e.querySelector(".yes"),a=t.checked,n=t.parentNode,c=e.querySelector(".no").parentNode,r=document.querySelector(".representative_add_docs_block");a&&r.classList.remove("hidden"),a||r.classList.add("hidden"),n.addEventListener("click",(()=>r.classList.remove("hidden"))),c.addEventListener("click",(()=>r.classList.add("hidden")))}();const y=document.querySelectorAll(".queue_block");function q(t){const a=t.querySelector(".connection_to_drainage"),n=a.parentNode;let c=a.checked;const r=a.disabled,o=t.querySelector(".drainage_toggle");c&&o.classList.remove("hidden"),c||o.classList.add("hidden"),r||n.addEventListener("click",(()=>{c=!c,c?(o.classList.remove("hidden"),e()):(o.classList.add("hidden"),e())}))}function h(e){return e.siblings(".required").text()}y&&y.forEach((e=>v(e))),y&&y.forEach((e=>q(e))),"10002"==$('input[name="requesttype_id"]').val()&&$('input[name="personbasis"][value="05"]').parent().attr("style","display:none;");let S,b=$("form");function f(){if(S)switch(document.querySelector('[name="connectobjkind"]:checked').getAttribute("id")){case"connectobjkind_01":document.querySelector('[name^="room_number"]').parentElement.classList.add("hidden"),document.querySelector('[name^="landplot_area"]')&&document.querySelector('[name^="landplot_area"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="usage_type"]')&&document.querySelector('[name^="usage_type"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="statementtc_connectobjname"]').previousElementSibling.innerHTML="Наименование объекта подключения",document.querySelector('[name^="statementtc_connectobjname"]').value=`Частный дом по адресу: ${document.querySelector('[name="show_name"]').value}`,document.querySelector('[name^="resourcekindreq"]').closest(".form__field").classList.add("hidden"),document.querySelector('[name^="infmaxparam1"]').closest(".form__field").previousElementSibling.classList.add("hidden"),document.querySelector('[name^="infmaxparam1"]').parentElement.classList.add("hidden"),document.querySelector('[name^="infmaxparam2"]').parentElement.classList.add("hidden"),document.querySelector('[name^="connectloadparamdata_value1"].md').setAttribute("title","Не более 1 м3/сут"),""==document.querySelector('[name^="connectloadparamdata_value1"].md').value&&(document.querySelector('[name^="connectloadparamdata_value1"].md').value="1"),document.querySelector('[name^="connectloadparamdata_value1"].mh').parentElement.classList.add("hidden"),document.querySelector('[name^="connectloadparamdata_value3"]').parentElement.classList.add("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_08"].ls').parentElement.classList.add("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_02"].ls').parentElement.classList.add("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_07"].ls').parentElement.classList.add("hidden"),document.querySelector('[name^="connectloadparamdata_value1_2"].md').setAttribute("title","Не более 1 м3/сут"),""==document.querySelector('[name^="connectloadparamdata_value1_2"].md').value&&(document.querySelector('[name^="connectloadparamdata_value1_2"].md').value="1"),document.querySelector('[name^="connectloadparamdata_value1_2"].mh').parentElement.classList.add("hidden");break;case"connectobjkind_02":document.querySelector('[name^="room_number"]').parentElement.classList.add("hidden"),document.querySelector('[name^="landplot_area"]')&&document.querySelector('[name^="landplot_area"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="usage_type"]')&&document.querySelector('[name^="usage_type"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="statementtc_connectobjname"]').previousElementSibling.innerHTML="Наименование объекта подключения (МКД, Магазин и т.д.)",document.querySelector('[name^="statementtc_connectobjname"]').value=`${document.querySelector('[name="show_name"]').value}`,document.querySelector('[name^="resourcekindreq"]').closest(".form__field").classList.remove("hidden"),document.querySelector('[name^="infmaxparam1"]').closest(".form__field").previousElementSibling.classList.remove("hidden"),document.querySelector('[name^="infmaxparam1"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="infmaxparam2"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="connectloadparamdata_value1"].md').setAttribute("title",""),"1"==document.querySelector('[name^="connectloadparamdata_value1"].md').value&&(document.querySelector('[name^="connectloadparamdata_value1"].md').value=""),document.querySelector('[name^="connectloadparamdata_value1"].mh').parentElement.classList.remove("hidden"),document.querySelector('[name^="connectloadparamdata_value3"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_08"].ls').parentElement.classList.remove("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_02"].ls').parentElement.classList.remove("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_07"].ls').parentElement.classList.remove("hidden"),document.querySelector('[name^="connectloadparamdata_value1_2"].md').setAttribute("title",""),"1"==document.querySelector('[name^="connectloadparamdata_value1_2"].md').value&&(document.querySelector('[name^="connectloadparamdata_value1_2"].md').value=""),document.querySelector('[name^="connectloadparamdata_value1_2"].mh').parentElement.classList.remove("hidden");break;case"connectobjkind_03":document.querySelector('[name^="room_number"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="landplot_area"]')&&document.querySelector('[name^="landplot_area"]').parentElement.classList.add("hidden"),document.querySelector('[name^="usage_type"]')&&document.querySelector('[name^="usage_type"]').parentElement.classList.add("hidden"),document.querySelector('[name^="statementtc_connectobjname"]').previousElementSibling.innerHTML="Наименование объекта подключения (Офис, магазин, аптека и т.д.)",document.querySelector('[name^="statementtc_connectobjname"]').value=`${document.querySelector('[name="show_name"]').value}`,document.querySelector('[name^="resourcekindreq"]').closest(".form__field").classList.add("hidden"),document.querySelector('[name^="infmaxparam1"]').closest(".form__field").previousElementSibling.classList.add("hidden"),document.querySelector('[name^="infmaxparam1"]').parentElement.classList.add("hidden"),document.querySelector('[name^="infmaxparam2"]').parentElement.classList.add("hidden"),document.querySelector('[name^="connectloadparamdata_value1"].md').setAttribute("title",""),"1"==document.querySelector('[name^="connectloadparamdata_value1"].md').value&&(document.querySelector('[name^="connectloadparamdata_value1"].md').value=""),document.querySelector('[name^="connectloadparamdata_value1"].mh').parentElement.classList.add("hidden"),document.querySelector('[name^="connectloadparamdata_value3"]').parentElement.classList.add("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_08"].ls').parentElement.classList.add("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_02"].ls').parentElement.classList.add("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_07"].ls').parentElement.classList.add("hidden"),document.querySelector('[name^="connectloadparamdata_value1_2"].md').setAttribute("title",""),"1"==document.querySelector('[name^="connectloadparamdata_value1_2"].md').value&&(document.querySelector('[name^="connectloadparamdata_value1_2"].md').value=""),document.querySelector('[name^="connectloadparamdata_value1_2"].mh').parentElement.classList.add("hidden")}else switch(document.querySelector('[name="connectobjkind"]:checked').getAttribute("id")){case"connectobjkind_01":document.querySelector('[name^="room_number"]').parentElement.classList.add("hidden"),document.querySelector('[name^="landplot_area"]')&&document.querySelector('[name^="landplot_area"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="usage_type"]')&&document.querySelector('[name^="usage_type"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="statementtc_connectobjname"]').previousElementSibling.innerHTML="Наименование объекта подключения",document.querySelector('[name^="statementtc_connectobjname"]').value=`Частный дом по адресу: ${document.querySelector('[name="show_name"]').value}`,document.querySelector('[name^="resourcekindreq"]').closest(".form__field").classList.remove("hidden"),document.querySelector('[name^="infmaxparam1"]').closest(".form__field").previousElementSibling.classList.remove("hidden"),document.querySelector('[name^="infmaxparam1"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="infmaxparam2"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="connectloadparamdata_value1"].md').setAttribute("title","Не более 1 м3/сут"),""==document.querySelector('[name^="connectloadparamdata_value1"].md').value&&(document.querySelector('[name^="connectloadparamdata_value1"].md').value="1"),document.querySelector('[name^="connectloadparamdata_value1"].mh').parentElement.classList.remove("hidden"),document.querySelector('[name^="connectloadparamdata_value3"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_08"].ls').parentElement.classList.remove("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_02"].ls').parentElement.classList.remove("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_07"].ls').parentElement.classList.remove("hidden"),document.querySelector('[name^="connectloadparamdata_value1_2"].md').setAttribute("title","Не более 1 м3/сут"),""==document.querySelector('[name^="connectloadparamdata_value1_2"].md').value&&(document.querySelector('[name^="connectloadparamdata_value1_2"].md').value="1"),document.querySelector('[name^="connectloadparamdata_value1_2"].mh').parentElement.classList.remove("hidden");break;case"connectobjkind_02":document.querySelector('[name^="room_number"]').parentElement.classList.add("hidden"),document.querySelector('[name^="landplot_area"]')&&document.querySelector('[name^="landplot_area"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="usage_type"]')&&document.querySelector('[name^="usage_type"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="statementtc_connectobjname"]').previousElementSibling.innerHTML="Наименование объекта подключения (МКД, Магазин и т.д.)",document.querySelector('[name^="statementtc_connectobjname"]').value=`${document.querySelector('[name="show_name"]').value}`,document.querySelector('[name^="resourcekindreq"]').closest(".form__field").classList.remove("hidden"),document.querySelector('[name^="infmaxparam1"]').closest(".form__field").previousElementSibling.classList.remove("hidden"),document.querySelector('[name^="infmaxparam1"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="infmaxparam2"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="connectloadparamdata_value1"].md').setAttribute("title",""),"1"==document.querySelector('[name^="connectloadparamdata_value1"].md').value&&(document.querySelector('[name^="connectloadparamdata_value1"].md').value=""),document.querySelector('[name^="connectloadparamdata_value1"].mh').parentElement.classList.remove("hidden"),document.querySelector('[name^="connectloadparamdata_value3"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_08"].ls').parentElement.classList.remove("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_02"].ls').parentElement.classList.remove("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_07"].ls').parentElement.classList.remove("hidden"),document.querySelector('[name^="connectloadparamdata_value1_2"].md').setAttribute("title",""),"1"==document.querySelector('[name^="connectloadparamdata_value1_2"].md').value&&(document.querySelector('[name^="connectloadparamdata_value1_2"].md').value=""),document.querySelector('[name^="connectloadparamdata_value1_2"].mh').parentElement.classList.remove("hidden");break;case"connectobjkind_03":document.querySelector('[name^="room_number"]').parentElement.classList.add("hidden"),document.querySelector('[name^="landplot_area"]')&&document.querySelector('[name^="landplot_area"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="usage_type"]')&&document.querySelector('[name^="usage_type"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="statementtc_connectobjname"]').previousElementSibling.innerHTML="Наименование объекта подключения (Офис, магазин, аптека и т.д.)",document.querySelector('[name^="statementtc_connectobjname"]').value=`${document.querySelector('[name="show_name"]').value}`,document.querySelector('[name^="resourcekindreq"]').closest(".form__field").classList.remove("hidden"),document.querySelector('[name^="infmaxparam1"]').closest(".form__field").previousElementSibling.classList.remove("hidden"),document.querySelector('[name^="infmaxparam1"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="infmaxparam2"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="connectloadparamdata_value1"].md').setAttribute("title",""),"1"==document.querySelector('[name^="connectloadparamdata_value1"].md').value&&(document.querySelector('[name^="connectloadparamdata_value1"].md').value=""),document.querySelector('[name^="connectloadparamdata_value1"].mh').parentElement.classList.remove("hidden"),document.querySelector('[name^="connectloadparamdata_value3"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_08"].ls').parentElement.classList.remove("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_02"].ls').parentElement.classList.remove("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_07"].ls').parentElement.classList.remove("hidden"),document.querySelector('[name^="connectloadparamdata_value1_2"].md').setAttribute("title",""),"1"==document.querySelector('[name^="connectloadparamdata_value1_2"].md').value&&(document.querySelector('[name^="connectloadparamdata_value1_2"].md').value=""),document.querySelector('[name^="connectloadparamdata_value1_2"].mh').parentElement.classList.remove("hidden")}e()}$("input[type='submit']").click((function(e){switch($(document.activeElement,this).attr("name")){case"ecp_button":e.preventDefault(),e.stopPropagation();var t=[];b.find(".required + *").each((function(){var e=$(this);switch(e.prop("tagName")){case"SPAN":0==e.find("input:checked").length&&e.is(":visible")&&t.push("Не выбрано ни одно значение поля "+h(e));break;case"INPUT":!e.val()&&e.is(":visible")&&t.push("Не указано значение поля "+h(e));break;case"DIV":e.is(":visible")&&("Выберите тип документа"==e.find(".__select__title").text()||"Полученный адрес"==e.text()||0==e.find(".attachment").length&&e.hasClass("field__control_btns"))&&t.push("Не указано значение поля "+h(e))}}));let n=$(".form__field:not(.hidden) [class*=req_group_]");var a=[];if(n.each((function(){var e=$(this)[0].id;a.includes(e)||a.push(e)})),a.forEach((function(e){let a=n.filter("#"+e),c=!1;if(a.each((function(){if(0!=$(this).find(".attachment").length)return c=!0,!1})),!c)if(1===a.length)t.push("<h6>Требуется прикрепить документ: </h6> \n <p>"+a[0].previousElementSibling.innerText+"</p>");else{let e="<h6>Требуется прикрепить один из документов: \n</h6>";a.each((function(){var t=$(this);e=e+"<p>"+t[0].previousElementSibling.innerText+";</p>"})),t.push(e)}})),t.length)return $(".modal.modal_alert.autopopup.hidden .modal__text").html(t[0]),void $(".modal.modal_alert.autopopup.hidden").removeClass("hidden");b=$(this).closest("form"),b.append("<input type='hidden' name='ecp' value='true' />"),document.querySelectorAll("form input[disabled='']").forEach((e=>e.removeAttribute("disabled"))),b.submit();break;case"save_button":$('input[name="redirect"]').val("newrequesttp")}document.querySelectorAll("form input[disabled='']").forEach((e=>e.removeAttribute("disabled")))})),$.ajax({url:"./getSimpleJson/",success:function(e){S="true"===e,S&&(document.querySelectorAll("[name='infmaxparam3'],[name='infmaxparam4'],[name='techcondobj_note'],[name='connectloadparamdata_value2'],[name='addconnectloadparamdata_value_05'],[name='connectloadparamdata_value2_2'],[name='addconnectloadparamdata_value_06'],[name='addconnectloadparamdata_value_08'].mh,[name='addconnectloadparamdata_value_08'].md,[name='addconnectloadparamdata_value_02'].mh,[name='addconnectloadparamdata_value_02'].md,[name='addconnectloadparamdata_value_07'].mh,[name='addconnectloadparamdata_value_07'].md").forEach((e=>e.parentElement.classList.add("hidden"))),"connectobjkind_03"==document.querySelector('[name="connectobjkind"]:checked').id&&document.querySelector('[name="room_number"]').parentElement.classList.remove("hidden"),document.querySelector(".requests_form").classList.add("simple")),document.querySelectorAll('[name="connectobjkind"]').forEach((e=>e.parentElement.addEventListener("click",f))),f()}})}))})();