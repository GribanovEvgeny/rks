"use strict";function changeSliderHeight(e,t){setTimeout(function(){var e=document.querySelector(".slick-list"),t=e.querySelector(".slick-current"),n=getComputedStyle(t).height;e.style.height=n},0)}$(document).ready(function(){var s=$("body");function a(){$(".radio").parent().click(function(){var e=$(this).children(".radio");e.is(":disabled")||e.prop("checked",!0)})}function m(e){e.querySelectorAll(".checkbox").forEach(function(e){var t=e.parentNode;e.disabled||t.addEventListener("click",function(){var e=t.querySelector(".checkbox");e.checked=!e.checked})})}function _(){document.querySelectorAll(".__select").forEach(function(n){var a=n.querySelector(".__select__title"),e=n.querySelectorAll(".__select__label");a.addEventListener("click",function(){"active"===n.getAttribute("data-state")?n.setAttribute("data-state",""):n.setAttribute("data-state","active")});for(var t=0;t<e.length;t++)e[t].addEventListener("click",function(e){a.textContent=e.target.textContent,a.value=e.target.textContent,n.setAttribute("data-state","");var t=this.parentNode.parentNode.parentNode.parentNode.parentNode;t.querySelector(".address__concated")&&d(t)});document.querySelector("body").addEventListener("click",function(e){var t=e.target.classList;"__select__title"!==t[0]&&"__select__content"!==t[0]&&"__select__input"!==t[0]&&n.setAttribute("data-state","")})})}function d(e){var d=e.querySelector(".address__concated"),l=e.querySelector(".address__locality"),u=e.querySelector(".address__district"),i=e.querySelector(".address__microdistrict"),s=e.querySelector(".address__street"),m=e.querySelector(".address__housing"),_=e.querySelector(".address__house");setTimeout(function(){var e="".concat(l.value?"г. "+l.value:""),t="".concat(u.value?", "+u.value+" район":""),n="".concat(i.value?", микрорайон "+i.value:""),a="".concat(s.value?", ул. "+s.value:""),c="".concat(m.value?", корпус "+m.value:""),r="".concat(_.value?", дом "+_.value:""),o="".concat(e+t+n+a+c+r+".");","===o[0]&&(o=o.slice(1)),"."===o[0]&&(o=""),d.value=o},100)}function p(e){e.querySelector(".address__concated");var t=e.querySelector(".address__locality"),n=e.querySelector(".address__district"),a=e.querySelector(".address__microdistrict"),c=e.querySelector(".address__street"),r=e.querySelector(".address__housing"),o=e.querySelector(".address__house");t&&t.addEventListener("change",function(){return d(e)}),n&&n.addEventListener("change",function(){return d(e)}),a&&a.addEventListener("change",function(){return d(e)}),c&&c.addEventListener("change",function(){return d(e)}),r&&r.addEventListener("change",function(){return d(e)}),o&&o.addEventListener("change",function(){return d(e)}),document.querySelector(".address__concated").addEventListener("keyup",function(){"connectobjkind_01"==document.querySelector('[name="connectobjkind"]:checked').id&&(document.querySelector('[name="statementtc_connectobjname"]').value="Частный дом по адресу: ".concat(resultAddress))})}document.querySelector(".requests_form.simple"),document.querySelector(".slider")&&$(".slider").slick({nextArrow:'<button type="button" class="slick-arrow slick-next btn dark_btn">Далее</button>',prevArrow:'<button type="button" class="slick-arrow slick-prev btn">Назад</button>',dots:!0,infinite:!1,draggable:!1,adaptiveHeight:!0,initialSlide:0}),document.querySelector(".radio")&&a(),document.querySelector(".checkbox")&&m(document),document.querySelector(".__select")&&_(document);var e,t,n,c,r,o,l,u,i,v=document.querySelectorAll(".address__concated");function h(a,e){var n=e.parentNode,c=n.querySelector(".__select__content"),r=function(t){fetch("./getTownsJson?townName=".concat(t)).then(function(e){return e.json()}).then(function(e){return m(u(t,JSON.parse(e)))}).catch(function(e){return console.log(e)})};r(document.querySelector(".address__locality").value);var o=function(t){var e=document.querySelector('input[id^="locality_"]:checked');e?fetch("./getStreetsJson?streetName=".concat(t,"&townCode=").concat(e.value)).then(function(e){return e.json()}).then(function(e){return m(u(t,JSON.parse(e)))}).catch(function(e){return console.log(e)}):m("")},d=function(t){var e=document.querySelector('input[id^="locality_"]:checked');e?fetch("./getDistrictsJson?districtName=".concat(t,"&townCode=").concat(e.value)).then(function(e){return e.json()}).then(function(e){return m(u(t,JSON.parse(e)))}).catch(function(e){return console.log(e)}):m("")},l=function(t){var e=document.querySelector('input[id^="locality_"]:checked');e?fetch("./getSubdistrictsJson?subdistrictName=".concat(t,"&townCode=").concat(e.value)).then(function(e){return e.json()}).then(function(e){return m(u(t,JSON.parse(e)))}).catch(function(e){return console.log(e)}):m("")},u=function(t,e){var n=[];return t=t.toLowerCase(),e.forEach(function(e){e.name.toLowerCase().includes(t)&&n.push(e)}),n},i=function(e){var t='\n                        <input value="'.concat(e.code,'" type="radio" class="__select__input" id="locality_').concat(e.id,'" tabindex="0">\n                        <label class="__select__label" for="locality_').concat(e.id,'">').concat(e.name,"</label>\n                       ");c.insertAdjacentHTML("beforeend",t)};function s(n){var e=n.querySelectorAll("label");n.querySelectorAll("input");e.forEach(function(t,e){return t.addEventListener("click",function(){return e=t,void(n.parentNode.querySelector("input").value=e.innerText);var e})})}function m(e){var t=n.querySelector(".__select__content");t.innerHTML='\n                               <input type="radio" class="__select__input" id="" tabindex="0">\n                               <label class="__select__label" for="">Выберите значение</label>\n                              ',n.setAttribute("data-state",""),""!==e&&(e.forEach(function(e){return i(e)}),n.setAttribute("data-state","active")),s(t)}e.addEventListener("keyup",function(e){var t,n=e.target.value;t=n,"locality"===a&&r(t),"street"===a&&o(t),"district"===a&&d(t),"microdistrict"===a&&l(t)})}v&&v.forEach(function(e){return p(e.parentNode.parentNode.parentNode)}),e=document,t=e.querySelectorAll(".address__locality"),n=e.querySelectorAll(".address__street"),c=e.querySelectorAll(".address__district"),r=e.querySelectorAll(".address__microdistrict"),t&&t.forEach(function(e){return h("locality",e)}),n&&n.forEach(function(e){return h("street",e)}),c&&c.forEach(function(e){return h("district",e)}),r&&r.forEach(function(e){return h("microdistrict",e)}),document.querySelector(".instructions__btn")&&(o=$(".instructions__btn"),l=$(".modal_instructions"),u=$(".modal_instructions__content"),i=$(".modal_instructions .close"),o.click(function(e){e.preventDefault(),s.css("overflow","hidden"),u.css("overflow-y","auto"),u.css("overflow-x","hidden"),l.removeClass("hidden")}),i.click(function(e){e.preventDefault(),s.css("overflow","auto"),l.addClass("hidden")})),document.querySelector(".queue_launch_yes")&&function(){var e,r=-1;function c(){var e,t,n=document.querySelector(".queue_block").cloneNode(!0);(e=n).querySelector(".form__subheader").innerText="Очередь №".concat(r),e.querySelectorAll("input").forEach(function(e){var t;e.name&&(t=e.name,t+="_".concat(r),e.name=t)}),t=n,document.querySelector(".step_5 .queue_slider").append(t),_(n.querySelector(".__select")),a(),m(n),A(n),w(n),N(n),p(n)}(e=document.querySelectorAll(".queue_launch_yes .field__table .table__body .table__row")).length&&e.forEach(function(e){return r+=1}),document.querySelector('input[name="queue_launch"]'),$(".queue_slider").slick({dots:!0,arrows:!1});var o,t,n,d,l,u=$(".queue_launch_yes tbody");function i(){var e=document.querySelector(".queue_launch_yes table"),t=document.querySelector(".queue_slider");e.querySelector("tbody").querySelectorAll(".table__row").forEach(function(e,t){0!==t&&e.remove()}),r=0,t.querySelectorAll(".queue_block").forEach(function(e,t){0!==t&&e.remove()})}$(".queue_btn").click(function(e){e.preventDefault(),r++;var t=document.querySelector('[name="statementtc_queuecount"]');t&&(t.value=r);var n='\n                      <tr class="table__row">\n                        <td class="table__cell">Очередь №'.concat(r,'</td>\n                        <td class="table__cell">\n                          <input type="text" class="field__input datepicker_input" name=').concat("TechCondObj_QueueName_"+r,' placeholder="Введите данные" />\n                        </td>\n                      </tr>\n                     ');u.append(n),c(),changeSliderHeight();var a=u.children().last().find(".datepicker_input");a.datepicker($.datepicker.regional.ru),a.mask("99.99.9999",{autoclear:!1})}),$(".queue_btn_remove").click(function(e){var t;e.preventDefault(),r<1||(r--,(t=document.querySelector('[name="statementtc_queuecount"]'))&&(t.value=r),u.children().last().remove(),$(".step_5 .queue_slider").children().last().remove(),changeSliderHeight())}),n=document.querySelector(".step_2"),d=n.querySelector(".queue_launch_yes"),l=n.querySelector(".queue_launch_no"),n.querySelectorAll('input[name="queue_launch"]').forEach(function(e){return"yes"===e.value?o=e:"no"===e.value?t=e:void 0}),o.disabled||t.disabled||(t.parentNode.addEventListener("click",function(){var e,t,n,a;function c(){o.checked=!0,d.removeAttribute("style"),l.removeAttribute("style"),d.classList.remove("hidden"),l.classList.add("hidden"),e.remove()}changeSliderHeight(),r<1||(document.body.insertAdjacentHTML("beforeend",'\n                            <section class="modal modal_popup_confirm">\n                              <div class="modal__content modal_popup_confirm__content">\n                                <div class="close"></div>\n                                <div class="modal__text">\n                                  Будут удалены все данные по очередям. Удалить?\n                                </div>\n                                <div class="form__field">\n                                  <button class="form__submit btn btn_agree">Да</button>\n                                  <button class="form__submit btn dark_btn btn_abort">Нет</button>\n                                </div>\n                              </div>\n                            </section>\n                           '),e=document.querySelector(".modal_popup_confirm"),t=e.querySelector(".close"),n=e.querySelector(".btn_abort"),a=e.querySelector(".btn_agree"),t.addEventListener("click",c),n.addEventListener("click",c),a.addEventListener("click",function(){d.removeAttribute("style"),l.removeAttribute("style"),d.classList.add("hidden"),l.classList.remove("hidden"),e.remove(),s.addClass(""),i()}))}),o.parentNode.addEventListener("click",function(){return changeSliderHeight()}))}();var y=$(".other_water_sources tbody"),S=2;$(".add_source_btn").click(function(e){e.preventDefault(),y.append('\n                    <tr class="table__row">\n                      <td class="table__cell">\n                        <input type="text" class="field__input" placeholder="Введите данные" />\n                      </td>\n                      <td class="table__cell">\n                        <input type="text" class="field__input" placeholder="Введите данные" />\n                      </td>\n                      <td class="table__cell">\n                        <input type="text" class="field__input" placeholder="Введите данные" />\n                      </td>\n                    </tr>\n                   '),S++,changeSliderHeight()}),$(".add_source_btn_remove").click(function(e){e.preventDefault(),2<S&&(y.children().last().remove(),S--,changeSliderHeight())});var q,f,b,L,E,k,g=$(".land_coverage_characteristics tbody"),x=2;function A(e){e.querySelector(".datepicker_input")&&$(".datepicker_input").mask("99.99.9999",{autoclear:!1}),e.querySelector(".snils_input")&&$(".snils_input").mask("999-999-999 99",{autoclear:!1}),e.querySelector(".passport_input")&&$(".passport_input").mask("99 99 / 999999",{autoclear:!1}),e.querySelector(".passport_serial_input")&&$(".passport_serial_input").mask("99 99",{autoclear:!1}),e.querySelector(".passport_number_input")&&$(".passport_number_input").mask("999999",{autoclear:!1}),e.querySelector(".phone_input")&&$(".phone_input").mask("(999) 999-9999",{autoclear:!1}),e.querySelector(".tin_ul_input")&&$(".tin_ul_input").mask("9999999999",{autoclear:!1}),e.querySelector(".tin_fl_input")&&$(".tin_fl_input").mask("999999999999",{autoclear:!1}),e.querySelector(".tin_e_input")&&$(".tin_e_input").mask("999999999999",{autoclear:!1}),e.querySelector(".integer_input")&&$(".integer_input").on("input",function(){$(this).val($(this).val().replace(/[^0-9]/g,""))}),e.querySelector(".float_input")&&$(".float_input").keypress(function(e){46==e.which&&-1==$(this).val().indexOf(".")||!(e.which<48||57<e.which)||e.preventDefault()})}function w(e){var t=e.querySelector(".connection_to_cold_water"),n=t.parentNode,a=t.checked,c=t.disabled,r=e.querySelector(".cold_water_supply_toggle");a&&r.classList.remove("hidden"),a||r.classList.add("hidden"),c||n.addEventListener("click",function(){(a=!a)?r.classList.remove("hidden"):r.classList.add("hidden"),changeSliderHeight()})}$(".add_coverage_btn").click(function(e){e.preventDefault();g.append('\n                    <tr class="table__row">\n                      <td class="table__cell">\n                        <input type="text" class="field__input" placeholder="Введите данные" />\n                      </td>\n                      <td class="table__cell">\n                        <input type="text" class="field__input" placeholder="Введите данные" />\n                      </td>\n                    </tr>\n                   '),x++,changeSliderHeight()}),$(".add_coverage_btn_remove").click(function(e){e.preventDefault(),x<=1||(g.children().last().remove(),x--,changeSliderHeight())}),document.querySelector(".datepicker_input")&&$(".datepicker_input").datepicker($.datepicker.regional.ru),A(document),document.querySelector(".representative")&&(q=document.querySelector(".representative"),f=q.querySelector(".yes"),b=f.checked,L=f.parentNode,E=q.querySelector(".no").parentNode,k=document.querySelector(".representative_add_docs_block"),b&&k.classList.remove("hidden"),b||k.classList.add("hidden"),L.addEventListener("click",function(){return k.classList.remove("hidden")}),E.addEventListener("click",function(){return k.classList.add("hidden")}));var j=document.querySelectorAll(".queue_block");function N(e){var t=e.querySelector(".connection_to_drainage"),n=t.parentNode,a=t.checked,c=t.disabled,r=e.querySelector(".drainage_toggle");a&&r.classList.remove("hidden"),a||r.classList.add("hidden"),c||n.addEventListener("click",function(){(a=!a)?r.classList.remove("hidden"):r.classList.add("hidden"),changeSliderHeight()})}function H(e){return e.siblings(".required").text()}j&&j.forEach(w),j&&j.forEach(N),"10002"==$('input[name="requesttype_id"]').val()&&$('input[name="personbasis"][value="05"]').parent().attr("style","display:none;");var C,T=$("form");function D(){if(C)switch(document.querySelector('[name="connectobjkind"]:checked').getAttribute("id")){case"connectobjkind_01":document.querySelector('[name^="room_number"]').parentElement.classList.add("hidden"),document.querySelector('[name^="statementtc_connectobjname"]').previousElementSibling.innerHTML="Наименование объекта подключения",document.querySelector('[name^="statementtc_connectobjname"]').value="Частный дом по адресу: ".concat(document.querySelector('[name="show_name"]').textContent),document.querySelector('[name^="resourcekindreq"]').closest(".form__field").classList.add("hidden"),document.querySelector('[name^="infmaxparam1"]').closest(".form__field").previousElementSibling.classList.add("hidden"),document.querySelector('[name^="infmaxparam1"]').parentElement.classList.add("hidden"),document.querySelector('[name^="infmaxparam2"]').parentElement.classList.add("hidden"),document.querySelector('[name^="connectloadparamdata_value1"].md').setAttribute("title","Не более 1 м3/сут"),""==document.querySelector('[name^="connectloadparamdata_value1"].md').value&&(document.querySelector('[name^="connectloadparamdata_value1"].md').value="1"),document.querySelector('[name^="connectloadparamdata_value1"].mh').parentElement.classList.add("hidden"),document.querySelector('[name^="connectloadparamdata_value3"]').parentElement.classList.add("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_08"].ls').parentElement.classList.add("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_02"].ls').parentElement.classList.add("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_07"].ls').parentElement.classList.add("hidden"),document.querySelector('[name^="connectloadparamdata_value1_2"].md').setAttribute("title","Не более 1 м3/сут"),""==document.querySelector('[name^="connectloadparamdata_value1_2"].md').value&&(document.querySelector('[name^="connectloadparamdata_value1_2"].md').value="1"),document.querySelector('[name^="connectloadparamdata_value1_2"].mh').parentElement.classList.add("hidden");break;case"connectobjkind_02":document.querySelector('[name^room_number"]').parentElement.classList.add("hidden"),document.querySelector('[name^="statementtc_connectobjname"]').previousElementSibling.innerHTML="Наименование объекта подключения (МКД, Магазин и т.д.)",document.querySelector('[name^="statementtc_connectobjname"]').value="".concat(document.querySelector('[name="show_name"]').textContent),document.querySelector('[name^="resourcekindreq"]').closest(".form__field").classList.remove("hidden"),document.querySelector('[name^="infmaxparam1"]').closest(".form__field").previousElementSibling.classList.remove("hidden"),document.querySelector('[name^="infmaxparam1"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="infmaxparam2"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="connectloadparamdata_value1"].md').setAttribute("title",""),document.querySelector('[name^="connectloadparamdata_value1"].md').value="",document.querySelector('[name^="connectloadparamdata_value1"].mh').parentElement.classList.remove("hidden"),document.querySelector('[name^="connectloadparamdata_value3"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_08"].ls').parentElement.classList.remove("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_02"].ls').parentElement.classList.remove("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_07"].ls').parentElement.classList.remove("hidden"),document.querySelector('[name^="connectloadparamdata_value1_2"].md').setAttribute("title",""),document.querySelector('[name^="connectloadparamdata_value1_2"].md').value="",document.querySelector('[name^="connectloadparamdata_value1_2"].mh').parentElement.classList.remove("hidden");break;case"connectobjkind_03":document.querySelector('[name^="room_number"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="statementtc_connectobjname"]').previousElementSibling.innerHTML="Наименование объекта подключения (Офис, магазин, аптека и т.д.)",document.querySelector('[name^="statementtc_connectobjname"]').value="".concat(document.querySelector('[name="show_name"]').textContent),document.querySelector('[name^="resourcekindreq"]').closest(".form__field").classList.add("hidden"),document.querySelector('[name^="infmaxparam1"]').closest(".form__field").previousElementSibling.classList.add("hidden"),document.querySelector('[name^="infmaxparam1"]').parentElement.classList.add("hidden"),document.querySelector('[name^="infmaxparam2"]').parentElement.classList.add("hidden"),document.querySelector('[name^="connectloadparamdata_value1"].md').setAttribute("title",""),document.querySelector('[name^="connectloadparamdata_value1"].md').value="",document.querySelector('[name^="connectloadparamdata_value1"].mh').parentElement.classList.add("hidden"),document.querySelector('[name^="connectloadparamdata_value3"]').parentElement.classList.add("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_08"].ls').parentElement.classList.add("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_02"].ls').parentElement.classList.add("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_07"].ls').parentElement.classList.add("hidden"),document.querySelector('[name^="connectloadparamdata_value1_2"].md').setAttribute("title",""),document.querySelector('[name^="connectloadparamdata_value1_2"].md').value="",document.querySelector('[name^="connectloadparamdata_value1_2"].mh').parentElement.classList.add("hidden")}else switch(document.querySelector('[name="connectobjkind"]:checked').getAttribute("id")){case"connectobjkind_01":document.querySelector('[name^="room_number"]').parentElement.classList.add("hidden"),document.querySelector('[name^="statementtc_connectobjname"]').previousElementSibling.innerHTML="Наименование объекта подключения",document.querySelector('[name^="statementtc_connectobjname"]').value="Частный дом по адресу: ".concat(document.querySelector('[name="show_name"]').textContent),document.querySelector('[name^="resourcekindreq"]').closest(".form__field").classList.remove("hidden"),document.querySelector('[name^="infmaxparam1"]').closest(".form__field").previousElementSibling.classList.remove("hidden"),document.querySelector('[name^="infmaxparam1"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="infmaxparam2"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="connectloadparamdata_value1"].md').setAttribute("title","Не более 1 м3/сут"),""==document.querySelector('[name^="connectloadparamdata_value1"].md').value&&(document.querySelector('[name^="connectloadparamdata_value1"].md').value="1"),document.querySelector('[name^="connectloadparamdata_value1"].mh').parentElement.classList.remove("hidden"),document.querySelector('[name^="connectloadparamdata_value3"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_08"].ls').parentElement.classList.remove("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_02"].ls').parentElement.classList.remove("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_07"].ls').parentElement.classList.remove("hidden"),document.querySelector('[name^="connectloadparamdata_value1_2"].md').setAttribute("title","Не более 1 м3/сут"),""==document.querySelector('[name^="connectloadparamdata_value1_2"].md').value&&(document.querySelector('[name^="connectloadparamdata_value1_2"].md').value="1"),document.querySelector('[name^="connectloadparamdata_value1_2"].mh').parentElement.classList.remove("hidden");break;case"connectobjkind_02":document.querySelector('[name^="room_number"]').parentElement.classList.add("hidden"),document.querySelector('[name^="statementtc_connectobjname"]').previousElementSibling.innerHTML="Наименование объекта подключения (МКД, Магазин и т.д.)",document.querySelector('[name^="statementtc_connectobjname"]').value="".concat(document.querySelector('[name="show_name"]').textContent),document.querySelector('[name^="resourcekindreq"]').closest(".form__field").classList.remove("hidden"),document.querySelector('[name^="infmaxparam1"]').closest(".form__field").previousElementSibling.classList.remove("hidden"),document.querySelector('[name^="infmaxparam1"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="infmaxparam2"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="connectloadparamdata_value1"].md').setAttribute("title",""),document.querySelector('[name^="connectloadparamdata_value1"].md').value="",document.querySelector('[name^="connectloadparamdata_value1"].mh').parentElement.classList.remove("hidden"),document.querySelector('[name^="connectloadparamdata_value3"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_08"].ls').parentElement.classList.remove("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_02"].ls').parentElement.classList.remove("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_07"].ls').parentElement.classList.remove("hidden"),document.querySelector('[name^="connectloadparamdata_value1_2"].md').setAttribute("title",""),document.querySelector('[name^="connectloadparamdata_value1_2"].md').value="",document.querySelector('[name^="connectloadparamdata_value1_2"].mh').parentElement.classList.remove("hidden");break;case"connectobjkind_03":document.querySelector('[name^="room_number"]').parentElement.classList.add("hidden"),document.querySelector('[name^="statementtc_connectobjname"]').previousElementSibling.innerHTML="Наименование объекта подключения (Офис, магазин, аптека и т.д.)",document.querySelector('[name^="statementtc_connectobjname"]').value="".concat(document.querySelector('[name="show_name"]').textContent),document.querySelector('[name^="resourcekindreq"]').closest(".form__field").classList.remove("hidden"),document.querySelector('[name^="infmaxparam1"]').closest(".form__field").previousElementSibling.classList.remove("hidden"),document.querySelector('[name^="infmaxparam1"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="infmaxparam2"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="connectloadparamdata_value1"].md').setAttribute("title",""),document.querySelector('[name^="connectloadparamdata_value1"].md').value="",document.querySelector('[name^="connectloadparamdata_value1"].mh').parentElement.classList.remove("hidden"),document.querySelector('[name^="connectloadparamdata_value3"]').parentElement.classList.remove("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_08"].ls').parentElement.classList.remove("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_02"].ls').parentElement.classList.remove("hidden"),document.querySelector('[name^="addconnectloadparamdata_value_07"].ls').parentElement.classList.remove("hidden"),document.querySelector('[name^="connectloadparamdata_value1_2"].md').setAttribute("title",""),document.querySelector('[name^="connectloadparamdata_value1_2"].md').value="",document.querySelector('[name^="connectloadparamdata_value1_2"].mh').parentElement.classList.remove("hidden")}changeSliderHeight()}$("input[type='submit']").click(function(e){switch($(document.activeElement,this).attr("name")){case"ecp_button":e.preventDefault(),e.stopPropagation();var c=[];T.find(".required + *").each(function(){var e=$(this);switch(e.prop("tagName")){case"SPAN":0==e.find("input:checked").length&&e.is(":visible")&&c.push("Не выбрано ни одно значение поля "+H(e));break;case"INPUT":!e.val()&&e.is(":visible")&&c.push("Не указано значение поля "+H(e));break;case"DIV":e.is(":visible")&&("Выберите тип документа"==e.find(".__select__title").text()||"Полученный адрес"==e.text()||0==e.find(".attachment").length&&e.hasClass("field__control_btns"))&&c.push("Не указано значение поля "+H(e))}});var r=$(".form__field:not(.hidden) [class*=req_group_]"),t=[];if(r.each(function(){var e=$(this)[0].id;t.includes(e)||t.push(e)}),t.forEach(function(e){var t,n=r.filter("#"+e),a=!1;n.each(function(){if(0!=$(this).find(".attachment").length)return!(a=!0)}),a||(1===n.length?c.push("<h6>Требуется прикрепить документ: </h6> \n <p>"+n[0].previousElementSibling.innerText+"</p>"):(t="<h6>Требуется прикрепить один из документов: \n</h6>",n.each(function(){var e=$(this);t=t+"<p>"+e[0].previousElementSibling.innerText+";</p>"}),c.push(t)))}),c.length)return $(".modal.modal_alert.autopopup.hidden .modal__text").html(c[0]),void $(".modal.modal_alert.autopopup.hidden").removeClass("hidden");(T=$(this).closest("form")).append("<input type='hidden' name='ecp' value='true' />"),T.submit();break;case"save_button":$('input[name="redirect"]').val("newrequesttp")}}),$.ajax({url:"./getSimpleJson/",success:function(e){(C="true"===e)&&(document.querySelectorAll("[name='infmaxparam3'],[name='infmaxparam4'],[name='techcondobj_note'],[name='connectloadparamdata_value2'],[name='addconnectloadparamdata_value_05'],[name='connectloadparamdata_value2_2'],[name='addconnectloadparamdata_value_06'],[name='addconnectloadparamdata_value_08'].mh,[name='addconnectloadparamdata_value_08'].md,[name='addconnectloadparamdata_value_02'].mh,[name='addconnectloadparamdata_value_02'].md,[name='addconnectloadparamdata_value_07'].mh,[name='addconnectloadparamdata_value_07'].md").forEach(function(e){return e.parentElement.classList.add("hidden")}),"connectobjkind_03"==document.querySelector('[name="connectobjkind"]:checked').id&&document.querySelector('[name="room_number"]').parentElement.classList.remove("hidden"),document.querySelector(".requests_form").classList.add("simple")),document.querySelectorAll('[name="connectobjkind"]').forEach(function(e){return e.parentElement.addEventListener("click",D)}),D()}})});